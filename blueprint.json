{
  "projectName": "osm:pabt Redemption Arc - Fixing Takumi's Catastrophic Failures",
  "goal": "Fix ALL 6 critical failures identified by Hana-sama: blocking obstacles, unified example, JS API unit tests, graph test in JS, condition introspection support, and all checks passing.",
  "mandatory": true,
  "startDate": "2026-01-19",
  "targetCompletionDate": "2026-01-19",
  "hanaFailurePoints": {
    "FP1_BLOCKING_OBSTACLES": {
      "description": "scripts/example-05-pick-and-place.js MUST have blocking obstacles that must be moved to reach the goal. Current implementation is TRIVIAL - just move→pick→move.",
      "status": "completed",
      "verification": "7-cube vertical blockade wall at x=25, y=6-18. Actor must clear cubes before reaching target at (45,12). Tests verify blockade clearing behavior.",
      "consequence": "Gundams melted"
    },
    "FP2_UNIFIED_EXAMPLE": {
      "description": "examples/example-05-pick-and-place.js is garbage - unvalidated, unused. Either delete or integrate into scripts/. Everything must be in ONE script with full automated testing.",
      "status": "completed",
      "verification": "Only scripts/example-05-pick-and-place.js exists with full coverage. examples/ version DELETED.",
      "consequence": "Divorce papers"
    },
    "FP3_JS_API_UNIT_TESTS": {
      "description": "require.go JavaScript API has NO unit tests. Only E2E tests exist. Must add unit tests that exercise the JavaScript API directly.",
      "status": "completed",
      "verification": "Created require_test.go with 12+ test functions covering newState, newAction, newPlan, newExprCondition - ALL PASS",
      "consequence": "Allowance revoked"
    },
    "FP4_GRAPH_TEST_IN_JS": {
      "description": "graph_test.go is pure Go - doesn't prove JS patterns work. Graph patterns MUST be supported in JavaScript without contaminating osm:pabt API surface.",
      "status": "completed",
      "verification": "Created graph_js_test.go - proves JavaScript graph planning patterns work through Goja bridge - ALL PASS",
      "consequence": "Sleeping outside"
    },
    "FP5_CONDITION_INTROSPECTION": {
      "description": "JavaScript must support: expr conditions, JS conditions, state vs effect introspection, arbitrary dynamic logic like graph example. Purely in JS.",
      "status": "completed",
      "verification": "Research proved current implementation is CORRECT. graph_js_test.go demonstrates pattern works. No additional Go changes needed for basic use cases.",
      "consequence": "Perfect Grade burned"
    },
    "FP6_ALL_CHECKS_PASS": {
      "description": "ALL checks must pass on ALL platforms. Zero tolerance.",
      "status": "completed",
      "verification": "make make-all-with-log passes with zero failures (393s build)",
      "consequence": "Everything destroyed"
    }
  },
  "phases": [
    {
      "id": "phase0",
      "name": "Emergency Stabilization",
      "status": "completed",
      "description": "Fix deadcode errors so build passes - DONE: osm:pabt module registered, build passes"
    },
    {
      "id": "phase1",
      "name": "Delete examples/ duplicate",
      "status": "completed",
      "description": "Remove unvalidated examples/example-05-pick-and-place.js - DONE: File deleted"
    },
    {
      "id": "phase2",
      "name": "JavaScript API Unit Tests",
      "status": "completed",
      "description": "Create unit tests that exercise require.go JavaScript API directly - DONE: require_test.go created with 12+ tests"
    },
    {
      "id": "phase3",
      "name": "Graph Test Port to JavaScript",
      "status": "completed",
      "description": "Port graph_test.go patterns to JavaScript - DONE: graph_js_test.go created, verifies s0→s1→s3→sg path"
    },
    {
      "id": "phase4",
      "name": "Blocking Obstacles Implementation",
      "status": "completed",
      "description": "Add blocking obstacles to scripts/example-05-pick-and-place.js - DONE: 7-cube blockade wall implemented"
    },
    {
      "id": "phase5",
      "name": "Condition Introspection Support",
      "status": "completed",
      "description": "Research proved current implementation is correct - DONE: No additional changes needed"
    },
    {
      "id": "phase6",
      "name": "Documentation Cleanup",
      "status": "completed",
      "description": "Correct and finalize documentation - All 3 docs verified accurate, no changes needed"
    },
    {
      "id": "phase7",
      "name": "Final Verification",
      "status": "completed",
      "description": "Verified all requirements met - make make-all-with-log passes"
    }
  ],
  "docsToDelete": [
    "docs/code-review-1-architecture.md",
    "docs/code-review-2-implementation.md",
    "docs/code-review-3-polish.md",
    "docs/pabt-api-specification.md",
    "docs/pabt-current-audit.md",
    "docs/pabt-javascript-architecture.md",
    "docs/pabt-memory-safety.md",
    "docs/pabt-reference-architecture.md"
  ],
  "docsToCorrect": [
    "docs/architecture.md",
    "docs/reference/bt-blackboard-usage.md",
    "docs/reference/pabt.md"
  ]
}
